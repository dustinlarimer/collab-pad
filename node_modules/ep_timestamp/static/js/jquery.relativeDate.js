setInterval(function() {
	$('div.line[data-timestamp]').each(function(){
		var t = $(this).attr('data-timestamp');
		if (t) {
			var now 			= new Date();
			var year 			= now.getUTCFullYear();
			var month 		= '0' + (now.getUTCMonth() + 1).toString();
			var date 			= '0' + (now.getUTCDate() + 1).toString();
			var hour 			= '0' + (now.getUTCHours() + 1).toString();
			var minute 		= '0' + (now.getUTCMinutes() + 1).toString();
			var second 		= '0' + (now.getUTCSeconds() + 1).toString();
			var timestamp = year+'/'+ month.slice(-2) +'/'+ date.slice(-2) +' '+ hour.slice(-2) +':'+ minute.slice(-2) +':'+second.slice(-2)
			
			var then      = new Date(t).getTime();
			var current   = new Date(timestamp).getTime();
			var diff      = (current-then)/1000;
			
			if (diff < 120) { 
				// ('about one minute ago')
				$(this).parent('div').css('border-left', '5px solid #1a1a1a');
				//$(this).text('about one minute ago');
				
			} else if (diff >= 120 && diff < 60*5) { 
				// (Math.floor(diff/60)+' minutes ago')
				$(this).parent('div').css('border-left', '5px solid #282828');
					
			} else if (diff >= 60*5 && diff < 60*15) { 
				// (Math.floor(diff/60)+' minutes ago')
				$(this).parent('div').css('border-left', '5px solid #333333');
				
			} else if (diff >= 60*15 && diff < 60*60) { 
				// (Math.floor(diff/60)+' minutes ago')
				$(this).parent('div').css('border-left', '5px solid #4d4d4d');
				
			} else if (diff >= 60*60 && diff < 60*60*2) {
				// (Math.floor(diff/(60*60))+' hour ago')
				$(this).parent('div').css('border-left', '5px solid #555');
				
			} else if (diff >= 60*60*2 && diff < 60*60*24) {
				// (Math.floor(diff/(60*60))+' hours ago')
				$(this).parent('div').css('border-left', '5px solid #757575');
				
			} else if (diff >= 60*60*24 && diff < 60*60*24*2) {
				// ('yesterday')
				$(this).parent('div').css('border-left', '5px solid #999');
				
			} else if (diff >= 60*60*24 && diff < 60*60*24*30) {
				// (Math.floor(diff/(60*60*24))+' days ago')
				$(this).parent('div').css('border-left', '5px solid #CCC');
				
			} else {
				// (['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][d.getMonth()]+' '+d.getDate()+', '+d.getFullYear())
				$(this).parent('div').css('border-left', '5px solid #e5e5e5');
				
			}
		}
	});
}, 1000);
